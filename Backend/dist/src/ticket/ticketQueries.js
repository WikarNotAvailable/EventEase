"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getTicketsForEvent = exports.getTransactionByID = exports.getMaxTicketPlace = exports.getTicketsCount = exports.changeCurrentlyTakenAndAvailableTickets = exports.getCurrentlyTakenTickets = exports.getAvailableTickets = exports.getTransactionForTicket = exports.getEventForTicket = exports.updateTicket = exports.deleteTicket = exports.getTicketById = exports.getTickets = exports.checkTransactionExists = exports.checkEventExists = exports.checkTicketTypeExists = exports.addTicket = void 0;
exports.addTicket = "INSERT INTO tickets (tickettype_id,event_id,transaction_id,price,ticket_place,isavailable) VALUES ($1,$2,$3,$4,$5,$6) RETURNING *";
exports.checkTicketTypeExists = "SELECT * FROM tickettypes WHERE tickettype_id = $1";
exports.checkEventExists = "SELECT * FROM events WHERE event_id = $1";
exports.checkTransactionExists = "SELECT * FROM transactions WHERE transaction_id = $1";
exports.getTickets = "SELECT * FROM tickets INNER JOIN tickettypes on tickets.tickettype_id = tickettypes.tickettype_id";
exports.getTicketById = "SELECT * FROM tickets INNER JOIN tickettypes on tickets.tickettype_id = tickettypes.tickettype_id WHERE ticket_id = $1";
exports.deleteTicket = "DELETE FROM tickets WHERE ticket_id = $1";
exports.updateTicket = "UPDATE tickets SET price = $1, isavailable = $2, transaction_id = $3 WHERE ticket_id = $4 RETURNING *";
exports.getEventForTicket = "SELECT * FROM events WHERE event_id = $1";
exports.getTransactionForTicket = "SELECT * FROM transactions INNER JOIN transactionstatuses on transactionstatuses.transactionstatus_id = transactions.transactionstatus_id WHERE transaction_id = $1";
exports.getAvailableTickets = "SELECT availabletickets FROM events WHERE events.event_id = $1";
exports.getCurrentlyTakenTickets = "SELECT currentlytakentickets FROM events WHERE events.event_id = $1";
exports.changeCurrentlyTakenAndAvailableTickets = "UPDATE events SET availabletickets = $1, currentlytakentickets = $2 WHERE event_id = $3";
exports.getTicketsCount = "SELECT COUNT(ticket_id) as ticketscount FROM tickets WHERE event_id = $1";
exports.getMaxTicketPlace = "SELECT MAX(ticket_place) as maxplace FROM tickets WHERE event_id = $1";
exports.getTransactionByID = "SELECT * FROM transactions WHERE transaction_id = $1";
exports.getTicketsForEvent = "SELECT * FROM tickets INNER JOIN tickettypes on tickettypes.tickettype_id = tickets.tickettype_id WHERE event_id = $1 AND price = $2";
